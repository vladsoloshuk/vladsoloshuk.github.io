"use strict";(self.webpackChunkanime_world=self.webpackChunkanime_world||[]).push([[518],{1518:(e,s,a)=>{a.r(s),a.d(s,{default:()=>F});var n=a(184);const i=()=>(0,n.jsx)("footer",{});a(6906);var c=a(1087),r=a(2791),t=a(7938),l=a(8660),m=a(6334);const o=()=>{const e=(0,l.T)();return(0,n.jsxs)(c.rU,{className:"logo-container",to:t.n.HOME,onClick:()=>{e((0,m.fs)(["restoreCollectionFilter",!0]))},children:[(0,n.jsx)("div",{className:"glyph"}),(0,n.jsx)("div",{className:"logo"})]})};var d=a(780),u=a(9821),h=a(6113),x=a(5048),j=a(763),v=a.n(j),b=a(2901);const p=e=>{let{search:s,setSearch:a}=e;const i=(0,l.T)(),c=(0,l.C)((e=>e.search.searchParams)),t=(0,l.C)((e=>e.search.searchUrl)),m=(0,x.v9)((e=>e.search.searchMenu)),[o,j]=(0,r.useState)(!0),{data:p,isSuccess:k}=u.h.useGetElementsQuery({url:t,queryParams:c},{skip:o});return(0,r.useEffect)((()=>{k&&i((0,d.EW)(p))}),[k,i,p]),(0,n.jsxs)("label",{className:"field",children:[(0,n.jsx)("input",{className:""===s?"":"has-value",onChange:e=>{const s=e.target.value;a(s),""!==s?v().find(m,{mode:"Current",active:!0})?(i((0,h.Rr)(["search",!1])),i((0,b.a8)(["search",s]))):(j(!1),i((0,d.aM)(s))):(v().find(m,{mode:"Current",active:!0})?(i((0,b.a8)(["search",""])),i((0,h.Rr)(["search",!0]))):(j(!1),i((0,d.aM)(""))),i((0,d.EW)([])),j(!0))},onClick:()=>{i((0,h.Rr)(["search",!0]))},placeholder:"Search...",type:"text",value:s}),(0,n.jsx)("span",{className:"clear",tabIndex:-1,onClick:()=>{a(""),i((0,d.EW)([]))}}),(0,n.jsx)("span",{className:"hotkey-marker"}),(0,n.jsx)("span",{className:"search-marker"})]})};var k=a(2912);const N=e=>{let{element:s,setSearch:a}=e;const i=(0,l.T)();return(0,n.jsxs)(c.rU,{onClick:()=>{i((0,h.Rr)(["search",!1])),i((0,h.Rr)(["mobile",!1])),i((0,d.EW)([])),a("")},className:"b-db_entry-variant-list_item",to:"".concat(s.url),tabIndex:"-1",children:[(0,n.jsx)("div",{className:"image",children:(0,n.jsx)(k.Z,{element:s,imageType:s.image.preview})}),(0,n.jsxs)("div",{className:"info",children:[(0,n.jsx)("div",{className:"name",children:(0,n.jsxs)("span",{className:"b-link",to:s.url,children:[s.name,s.russian?(0,n.jsx)("span",{className:"b-separator inline",children:" / "}):"",s.russian]})}),(0,n.jsxs)("div",{className:"line",children:[(0,n.jsx)("div",{className:"key",children:"Type:"}),(0,n.jsxs)("div",{className:"value",children:[(0,n.jsx)("div",{className:"b-tag",children:s.kind}),(0,n.jsx)("div",{className:"b-tag",children:s.aired_on?s.aired_on.split("-")[0]:""})]})]}),(0,n.jsxs)("div",{className:"line",children:[(0,n.jsx)("div",{className:"key",children:"Score:"}),(0,n.jsx)("div",{className:"value",children:(0,n.jsx)("div",{className:"b-tag",children:(0,n.jsx)("span",{children:s.score})})}),(0,n.jsx)("div",{className:"key",children:"Status:"}),(0,n.jsx)("div",{className:"value",children:(0,n.jsx)("div",{className:"b-anime_status_tag",children:(0,n.jsx)("span",{children:s.status})})})]})]})]})},g=e=>{let{search:s,setSearch:a}=e;const i=(0,l.T)(),c=(0,l.C)((e=>e.pageParams.title)),t=(0,l.C)((e=>e.search.searchMenu)),m=(0,l.C)((e=>e.search.searchElements)),o=e=>{e.stopPropagation(),i((0,d.Pb)(e.target.getAttribute("data-mode")))};return(0,r.useEffect)((()=>{i((0,d.WE)(c))}),[c,i]),(0,n.jsx)("div",{className:"search-results",children:(0,n.jsx)("div",{className:"inner",children:(0,n.jsx)("div",{children:m.length<1?t.map((e=>(0,n.jsx)("div",{className:"search-mode".concat(e.active?" active":""),"data-mode":e.mode,onClick:o,children:e.title},e.title))):m.map((e=>(0,n.jsx)(N,{element:e,setSearch:a},e.id)))})})})},S=()=>{const e=(0,l.T)(),[s,a]=(0,r.useState)(!1);return(0,n.jsx)("div",{onClick:()=>{a(!s),e((0,h.Rr)(["search",!s])),e((0,h.Rr)(["mobile",!s]))},className:"menu-icon search mobile"})},C=()=>{const e=(0,l.C)((e=>e.menuParams.search)),[s,a]=(0,r.useState)("");return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(S,{searchVisibility:e}),(0,n.jsxs)("div",{className:"global-search",children:[(0,n.jsx)(p,{searchVisibility:e,search:s,setSearch:a}),(0,n.jsx)(g,{setSearch:a})]})]})};var f=a(8935);const R=[{title:"Database",items:[{icon:"anime",name:"Anime",link:f.z.ANIMES},{icon:"manga",name:"Manga",link:f.z.MANGAS},{icon:"ranobe",name:"Ranobe",link:f.z.RANOBE}]},{title:"Community",items:[{icon:"forum",name:"Forum",link:""},{icon:"clubs",name:"Clubs",link:""},{icon:"collections",name:"Collections",link:""},{icon:"critiques",name:"Reviews",link:""},{icon:"articles",name:"Articles",link:""},{icon:"users",name:"Users",link:""}]},{title:"Other",items:[{icon:"contests",name:"Contests",link:""},{icon:"calendar",name:"Calendar",link:""}]},{title:"Information",items:[{icon:"info",name:"About us",link:""},{icon:"socials",name:"Social media",link:""},{icon:"moderation",name:"Moderation",link:""}]}],y=[{title:"Profile",items:[{icon:"anime_list",name:"Anime list",link:""},{icon:"manga_list",name:"Manga list",link:""},{icon:"mail",name:"Mail",link:""},{icon:"achievements",name:"Achievements",link:""},{icon:"clubs",name:"Clubs",link:""},{icon:"settings",name:"Settings",link:""}]},{title:"Website",items:[{icon:"site_rules",name:"Site ruled",link:""},{icon:"faq",name:"FAQ",link:""},{icon:"sign_out",name:"Sign out",link:""}]}];var P=a(4721),_=a.n(P);const E=e=>{let{dropdownParams:s}=e;return(0,n.jsx)("div",{className:"submenu",children:s.map((e=>(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)("div",{className:"legend",children:e.title}),e.items.map((e=>(0,n.jsx)(c.rU,{className:"icon-".concat(e.icon),to:e.link,tabIndex:"-1",children:e.name},e.name)))]},e.title)))})},A=()=>{const e=(0,l.T)(),s=(0,l.C)((e=>e.pageParams.title)),a=(0,l.C)((e=>e.menuParams.mainSubmenu)),[i,c]=(0,r.useState)(a);return(0,n.jsxs)("div",{className:"menu-dropdown main".concat(a?" active":""),onMouseEnter:()=>{c(!0),e((0,h.Rr)(["mainSubmenu",!0])),e((0,h.Rr)(["search",!1])),e((0,h.Rr)(["mobile",!1]))},onClick:()=>{c(!i),e((0,h.Rr)(["mainSubmenu",!i]))},onMouseLeave:()=>{c(!1),e((0,h.Rr)(["mainSubmenu",!1]))},children:[(0,n.jsx)("span",{className:"menu-icon trigger mobile"}),(0,n.jsx)("span",{className:"submenu-triangle icon-".concat(_()(s)),children:(0,n.jsx)("span",{children:s})}),(0,n.jsx)(E,{dropdownParams:R})]})},M=()=>{const e=(0,l.T)(),s=(0,l.C)((e=>e.menuParams.profileSubmenu)),[a,i]=(0,r.useState)(s);return(0,n.jsxs)("div",{className:"menu-dropdown profile".concat(s?" active":""),onMouseEnter:()=>{i(!0),e((0,h.Rr)(["profileSubmenu",!0])),e((0,h.Rr)(["search",!1])),e((0,h.Rr)(["mobile",!1]))},onClick:()=>{i(!a),e((0,h.Rr)(["profileSubmenu",!a]))},onMouseLeave:()=>{i(!1),e((0,h.Rr)(["profileSubmenu",!1]))},children:[(0,n.jsx)("span",{children:(0,n.jsxs)(c.rU,{className:"submenu-triangle",children:[(0,n.jsx)("img",{alt:"SoVladai",src:"https://desu.shikimori.me/system/users/x48/1227633.png?1673459024",srcSet:"https://desu.shikimori.me/system/users/x80/1227633.png?1673459024 2x",title:"SoVladai"}),(0,n.jsx)("span",{className:"nickname",children:"SoVladai"})]})}),(0,n.jsx)(E,{dropdownParams:y})]})},w=()=>{const e=(0,l.C)((e=>e.menuParams.mainSubmenu)),s=(0,l.C)((e=>e.menuParams.profileSubmenu)),a=(0,l.C)((e=>e.menuParams.search)),i=(0,l.C)((e=>e.menuParams.mobile)),[t,m]=(0,r.useState)(!1);return(0,n.jsxs)("header",{className:"l-top_menu".concat(e|s?" is-submenu":"").concat(!a||e||s?"":" is-search-focus is-search-shade").concat(i?" is-search-mobile":""),children:[(0,n.jsxs)("div",{className:"menu-logo",children:[(0,n.jsx)(o,{}),(0,n.jsx)(A,{})]}),(0,n.jsx)(C,{}),(0,n.jsx)(c.rU,{className:"menu-icon forum desktop",title:"Forum"}),(0,n.jsx)(c.rU,{className:"menu-icon sign_in",title:"Enter","data-text":"Enter",onClick:async()=>{const{data:e}=u.h.useGetElementQuery("https://shikimori.one/oauth/authorize?client_id=gGRPr-2KxbgGYli_nwbTSgznv8L6-ryczdNg1inBuRU&redirect_uri=urn%3Aietf%3Awg%3Aoauth%3A2.0%3Aoob&response_type=code&scope=");console.log(e)}}),t?(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(c.rU,{className:"menu-icon contest","data-count":"1",title:"Contests"}),(0,n.jsx)(c.rU,{className:"menu-icon mail","data-count":"1",title:"Mail"}),(0,n.jsx)(M,{})]}):""]})};var T=a(7689);const U=()=>{const e=(0,l.T)();return(0,n.jsx)("div",{className:"b-shade",onClick:()=>{e((0,h.Rr)(["search",!1])),e((0,h.Rr)(["mobile",!1]))}})},F=()=>(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(w,{}),(0,n.jsx)(T.j3,{}),(0,n.jsx)(U,{}),(0,n.jsx)(i,{})]})}}]);
//# sourceMappingURL=518.c6e85607.chunk.js.map