{"version":3,"file":"static/js/997.7fe1aba6.chunk.js","mappings":"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","sources":["components/Catalogs/EmptyCatalog/EmptyCatalogItem.js","components/Preview/Preview.js","components/UI/Trigger/Trigger.js","hooks/redux.ts","hooks/useObserver.js","components/Sections/OngoingSection.js","utils/dateCalculations.ts","components/Sections/NewsSection.js","components/Sections/ContentSection.js","components/Sections/AnimeUpdatesSection.js","components/Sections/NewsCatalog.js","pages/Home.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\r\nimport Preview from \"../../Preview/Preview\";\r\n\r\nconst EmptyCatalogItem = ({ element }) => {\r\n  return (\r\n    <article className=\"c-column b-catalog_entry c-anime\">\r\n      <Link\r\n        element={element}\r\n        className=\"cover anime-tooltip-processed\"\r\n        to={`${element.url}`}\r\n        state={element}\r\n      >\r\n        <span className=\"image-decor\">\r\n          <span className=\"image-cutter\">\r\n            <Preview element={element} imageType={element.image.preview}/>\r\n          </span>\r\n        </span>\r\n        <span className=\"title left_aligned\">{element.name}</span>\r\n        <span className=\"misc\">\r\n          <span>{element.kind}</span>\r\n          <span>{element.aired_on ? element.aired_on.split(\"-\")[0] : \"\"}</span>\r\n        </span>\r\n      </Link>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default EmptyCatalogItem;\r\n","import { hostUrl } from \"../../const/urlConsts\";\r\n\r\nconst Preview = ({element, imageType}) => {\r\n  return (\r\n    <picture>\r\n      <source\r\n        srcSet={hostUrl + imageType}\r\n        type=\"image/webp\"\r\n      />\r\n      <img\r\n        alt={element.name}\r\n        src={hostUrl + imageType}\r\n        srcSet={hostUrl + imageType}\r\n      />\r\n    </picture>\r\n  );\r\n};\r\n\r\nexport default Preview;\r\n","const Trigger = ({ target }) => {\r\n  return (\r\n    <div\r\n      style={{ height: \"3rem\" }}\r\n      ref={target}\r\n    ></div>\r\n  );\r\n};\r\n\r\nexport default Trigger;\r\n","import { TypedUseSelectorHook, useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { AppDispatch, RootState } from \"../store/store\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { useEffect, useRef } from \"react\";\r\n\r\nconst useObserver = (ref, isLoading, callback) => {\r\n  const observer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isLoading) return;\r\n    if (observer.current) observer.current.disconnect();\r\n    const observerOptions = {\r\n      threshold: 1\r\n    };\r\n    observer.current = new IntersectionObserver((entries) => {\r\n      if (entries[0].isIntersecting) {\r\n        callback();\r\n      }\r\n    }, observerOptions);\r\n    observer.current.observe(ref.current);\r\n  }, [ref, isLoading, callback]);\r\n};\r\n\r\nexport default useObserver;\r\n","import { Link } from \"react-router-dom\";\r\nimport { api } from \"../../services/Api\";\r\nimport { UrlParts } from \"../../const/urlConsts\";\r\nimport { Suspense, useEffect, useState } from \"react\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\nimport EmptyCatalogItem from \"../Catalogs/EmptyCatalog/EmptyCatalogItem\";\r\nimport { useAppDispatch } from \"../../hooks/redux\";\r\nimport { updateFilter } from \"../../store/reducers/FilterSlice\";\r\nimport { restoreCollectionFilter} from \"../../store/reducers/PageParams\";\r\n\r\nconst OngoingSection = () => {\r\n  const [elements, setElements] = useState([]);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const queryParams = {\r\n    limit: 8,\r\n    status: \"ongoing\",\r\n    order: \"popularity\",\r\n    season: 2023\r\n  };\r\n  const url = UrlParts.ANIMES;\r\n  const { data, isSuccess } = api.useGetElementsQuery({ url, queryParams });\r\n\r\n  const param = \"/status/ongoing\";\r\n  const loadFuction = () => {\r\n    dispatch(updateFilter([\"status\", \"ongoing\"]));\r\n    dispatch(restoreCollectionFilter([\"restoreCollectionFilter\", false]));\r\n  };\r\n\r\n  //rerendering if data has been changed\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setElements(data);\r\n    }\r\n  }, [data, isSuccess]);\r\n\r\n  return (\r\n    <Suspense fallback={Spinner}>\r\n      <div className=\"block2\">\r\n        <div className=\"subheadline linkheadline m15\">\r\n          <Link\r\n            to={`${UrlParts.ANIMES}${param}`}\r\n            onClick={loadFuction}\r\n            state={{ title: \"Anime\" }}\r\n          >\r\n            Now on screens\r\n          </Link>\r\n        </div>\r\n        <div className=\"fc-ongoings\">\r\n          <div className=\"mobile-slider-prev bright\" />\r\n          <div className=\"mobile-slider-next bright\" />\r\n          <div className=\"inner\">\r\n            {isSuccess ? (\r\n              elements.map((element) => (\r\n                <EmptyCatalogItem\r\n                  key={element.id}\r\n                  element={element}\r\n                />\r\n              ))\r\n            ) : (\r\n              <Spinner />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default OngoingSection;\r\n","export const timeFromPublication = (date: Date) => {\r\n  const time = Date.now();\r\n  const publicationDate = new Date(date);\r\n  const dateDifference = time - publicationDate.getTime();\r\n\r\n  const second = 1000;\r\n  const minute = 1000 * 60;\r\n  const hour = minute * 60;\r\n  const day = hour * 24;\r\n  const year = day * 365;\r\n\r\n  let seconds = Math.round(dateDifference / second);\r\n  let minutes = Math.round(dateDifference / minute);\r\n  let hours = Math.round(dateDifference / hour);\r\n  let days = Math.round(dateDifference / day);\r\n  let years = Math.round(dateDifference / year);\r\n\r\n  let result = \"\";\r\n\r\n  if (dateDifference < 1 * minute) {\r\n    return (result = seconds + \" seconds ago\");\r\n  }\r\n  if (dateDifference > 1 * minute && dateDifference < 1 * hour) {\r\n    return (result = minutes + \" minutes ago\");\r\n  }\r\n  if (dateDifference > 1 * hour && dateDifference < 1 * day) {\r\n    return (result = hours + \" hours ago\");\r\n  }\r\n  if (dateDifference > 1 * day && dateDifference < 1 * year) {\r\n    return (result = days + \" days ago\");\r\n  }\r\n  if (dateDifference > 1 * year) {\r\n    return (result = years + \" years ago\");\r\n  }\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nimport { api } from \"../../services/Api\";\r\nimport { UrlParts } from \"../../const/urlConsts\";\r\nimport { Suspense, useEffect, useState } from \"react\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\nimport { timeFromPublication } from \"../../utils/dateCalculations\";\r\n\r\nconst NewsSection = () => {\r\n  const [elements, setElements] = useState([]);\r\n\r\n  const queryParams = {\r\n    forum: \"news\",\r\n    limit: 2\r\n  };\r\n  const url = UrlParts.TOPICS;\r\n  const { data, isSuccess } = api.useGetElementsQuery({ url, queryParams });\r\n\r\n  //rerendering if data has been changed\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      setElements(data);\r\n    }\r\n  }, [data, isSuccess]);\r\n\r\n  return (\r\n    <Suspense fallback={Spinner}>\r\n      <div className=\"block2\">\r\n        <div className=\"subheadline-buttons\">\r\n          <Link\r\n            className=\"b-link_button dark mini create-topic\"\r\n            href=\"/\"\r\n            title=\"Написать новость\"\r\n          >\r\n            <span>Add news</span>\r\n          </Link>\r\n        </div>\r\n        <div className=\"headline linkheadline orange\">News</div>\r\n        <div className=\"news_wall latest-news\">\r\n          {isSuccess ? (\r\n            elements.map((element) => (\r\n              <article\r\n                key={element.id}\r\n                className=\"b-news_wall-topic\"\r\n              >\r\n                <Link\r\n                  to={`${element.url}`}\r\n                  title={element.topic_title}\r\n                >\r\n                  <div className=\"poster\">\r\n                    <div className=\"b-shiki_swiper\">\r\n                      {}\r\n                      <img\r\n                        className=\"b-image\"\r\n                        src={new DOMParser().parseFromString(element.html_footer, \"text/html\").getElementsByTagName(\"img\")[0].src}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"status-line\">\r\n                    <div className=\"tags\">\r\n                      <div\r\n                        className=\"b-anime_status_tag other\"\r\n                        data-text={element.linked.status}\r\n                      ></div>\r\n                      <div\r\n                        className=\"b-anime_status_tag other\"\r\n                        data-text={element.linked.kind}\r\n                      ></div>\r\n                    </div>\r\n                    <time>{timeFromPublication(element.created_at)}</time>\r\n                    <div className=\"comments\">{element.comments_count}</div>\r\n                  </div>\r\n                  <div className=\"title\">{element.topic_title}</div>\r\n                </Link>\r\n              </article>\r\n            ))\r\n          ) : (\r\n            <Spinner />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default NewsSection;\r\n","import { Suspense } from \"react\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\n\r\nconst ContentSection = () => {\r\n  return (\r\n    <Suspense fallback={Spinner}>\r\n      <div className=\"block2\">\r\n        <div className=\"fc-2_3\">\r\n          <div className=\"f-column\">\r\n            <div className=\"headline skyblue\">\r\n              Content\r\n              <div className=\"misc-links\">\r\n                <a href=\"https://shikimori.one/collections\">Collections</a>\r\n                <a href=\"https://shikimori.one/forum/critiques\">Critiques</a>\r\n                <a href=\"https://shikimori.one/articles\">Articles</a>\r\n              </div>\r\n            </div>\r\n            <div className=\"content-updates\"></div>\r\n          </div>\r\n          <div className=\"f-column\">\r\n            <div className=\"headline\">Topics of the day</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default ContentSection;\r\n","import { Suspense, useEffect, useState } from \"react\";\r\nimport { api } from \"../../services/Api\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\nimport { UrlParts } from \"../../const/urlConsts\";\r\nimport Preview from \"../Preview/Preview\";\r\nimport { timeFromPublication } from \"../../utils/dateCalculations\";\r\nimport _ from \"lodash\";\r\n\r\nconst AnimeUpdatesSection = () => {\r\n  const [elements, setElements] = useState([]);\r\n\r\n  const queryParams = {\r\n    limit: 30\r\n  };\r\n\r\n  const url = UrlParts.TOPICS + UrlParts.UPDATES;\r\n  const { data, isSuccess } = api.useGetElementsQuery({ url, queryParams });\r\n\r\n  //rerendering if data has been changed\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      let animeUpdated = [];\r\n      data.forEach((element) => {\r\n        switch (element.linked.kind) {\r\n          case \"tv\":\r\n          case \"movie\":\r\n          case \"ova\":\r\n          case \"ona\":\r\n          case \"special\":\r\n          case \"music\":\r\n            animeUpdated.push(element);\r\n            break;\r\n          default:\r\n        }\r\n      });\r\n      setElements(_.uniqBy(animeUpdated, (element) => element.linked.id).slice(0, 8));\r\n    }\r\n  }, [data, isSuccess]);\r\n\r\n  return (\r\n    <Suspense fallback={Spinner}>\r\n      <div className=\"block2\">\r\n        <div className=\"headline linkheadline magenta m15\">\r\n          <Link to=\"/\">Anime Updates</Link>\r\n        </div>\r\n        <div className=\"db-updates\">\r\n          <div className=\"mobile-slider-prev bright\" />\r\n          <div className=\"mobile-slider-next bright\" />\r\n          <div className=\"inner\">\r\n            {isSuccess ? (\r\n              elements.map((element) => (\r\n                <Link\r\n                  to={element.linked.url}\r\n                  key={element.id}\r\n                  className=\"db-update unprocessed bubbled-processed\"\r\n                >\r\n                  <div className=\"poster\">\r\n                    <Preview\r\n                      element={element}\r\n                      imageType={element.linked.image.x48}\r\n                    />\r\n                  </div>\r\n                  <div className=\"info\">\r\n                    <div className=\"name\">{element.linked.name}</div>\r\n                    <div className=\"status-time\">\r\n                      <div\r\n                        className={`b-anime_status_tag ${element.linked.status}`}\r\n                        data-text={element.linked.status}\r\n                      ></div>\r\n                      <time>{timeFromPublication(element.created_at)}</time>\r\n                    </div>\r\n                    <div className=\"tags\">\r\n                      <div className=\"b-anime_status_tag studio\">{element.linked.kind}</div>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              ))\r\n            ) : (\r\n              <Spinner />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default AnimeUpdatesSection;\r\n","import { api } from \"../../services/Api\";\r\nimport { UrlParts } from \"../../const/urlConsts\";\r\nimport { useRef, useEffect, useState, Suspense } from \"react\";\r\nimport useObserver from \"../../hooks/useObserver\";\r\nimport Trigger from \"../UI/Trigger/Trigger\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { timeFromPublication } from \"../../utils/dateCalculations\";\r\nimport Spinner from \"../UI/Spinner/Spinner\";\r\n\r\nconst NewsCatalog = () => {\r\n  const [elements, setElements] = useState([]);\r\n  const [page, setPage] = useState(2);\r\n  const [isObserverLoading, setIsObserverLoading] = useState(false);\r\n\r\n  const queryParams = {\r\n    forum: \"news\",\r\n    limit: 3,\r\n    page: page\r\n  };\r\n\r\n  const url = UrlParts.TOPICS;\r\n  const { data, isFetching, isSuccess } = api.useGetElementsQuery({ url, queryParams });\r\n\r\n  //rerendering if data has been changed\r\n  useEffect(() => {\r\n    if (isSuccess && isObserverLoading) {\r\n      const arr = [...data];\r\n      arr.pop();\r\n      setElements([...elements, ...arr]);\r\n    }\r\n    if (isSuccess && !isObserverLoading) {\r\n      const arr = [...data];\r\n      arr.pop();\r\n      setElements([...arr]);\r\n    }\r\n    setIsObserverLoading(false);\r\n  }, [data]);\r\n\r\n  //observer setup\r\n  const lastElement = useRef();\r\n  const observerFunctions = () => {\r\n    setPage(page + 1);\r\n    setIsObserverLoading(true);\r\n  };\r\n  useObserver(lastElement, isFetching, () => observerFunctions());\r\n\r\n  return (\r\n    <Suspense fallback={Spinner}>\r\n      <div className=\"block2\">\r\n        <div className=\"headline skyblue m15\">More news</div>\r\n        <div className=\"news_wall other-news\">\r\n          {isSuccess && elements.length > 0 ? (\r\n            elements.map((element) => (\r\n              <article\r\n                key={element.id}\r\n                className=\"b-news_wall-topic\"\r\n              >\r\n                <Link\r\n                  to={element.url}\r\n                  title={element.topic_title}\r\n                >\r\n                  <div className=\"poster\">\r\n                    <div className=\"b-shiki_swiper\">\r\n                      <img\r\n                        className=\"b-image\"\r\n                        src={new DOMParser().parseFromString(element.html_footer, \"text/html\").getElementsByTagName(\"img\")[0].src}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"status-line\">\r\n                    {/* <div className=\"tags\">\r\n                      <div\r\n                        className=\"b-anime_status_tag other\"\r\n                        data-text={element.linked.status}\r\n                      ></div>\r\n                      <div\r\n                        className=\"b-anime_status_tag other\"\r\n                        data-text={element.linked.kind}\r\n                      ></div>\r\n                    </div> */}\r\n                    <time>{timeFromPublication(element.created_at)}</time>\r\n                    <div className=\"comments\">{element.comments_count}</div>\r\n                  </div>\r\n                  <div className=\"title\">{element.topic_title}</div>\r\n                </Link>\r\n              </article>\r\n            ))\r\n          ) : (\r\n            <Spinner />\r\n          )}\r\n        </div>\r\n        {isSuccess ? <Trigger target={lastElement}></Trigger> : \"\"}\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default NewsCatalog;\r\n","import { useEffect } from \"react\";\r\nimport { useAppDispatch } from \"../hooks/redux\";\r\nimport { updateTitle } from \"../store/reducers/PageParams\";\r\nimport OngoingSection from \"../components/Sections/OngoingSection\";\r\nimport NewsSection from \"../components/Sections/NewsSection\";\r\nimport ContentSection from \"../components/Sections/ContentSection\";\r\nimport AnimeUpdatesSection from \"../components/Sections/AnimeUpdatesSection\";\r\nimport NewsCatalog from \"../components/Sections/NewsCatalog\";\r\nimport { elementVisibility } from \"../store/reducers/MenuParams\";\r\n\r\nconst Home = (props) => {\r\n  const dispatch = useAppDispatch();\r\n  useEffect(() => {\r\n    dispatch(updateTitle(\"Home\"));\r\n    dispatch(elementVisibility([\"search\", false]));\r\n  });\r\n  return (\r\n    <section className=\"p-dashboards p-dashboards-show x1200 l-page\">\r\n      <OngoingSection />\r\n      <NewsSection />\r\n      <ContentSection />\r\n      <AnimeUpdatesSection />\r\n      <NewsCatalog />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["_ref","element","_jsx","className","children","_jsxs","Link","to","concat","url","state","Preview","imageType","image","preview","name","kind","aired_on","split","srcSet","hostUrl","type","alt","src","target","style","height","ref","useAppDispatch","useDispatch","useAppSelector","useSelector","isLoading","callback","observer","useRef","useEffect","current","disconnect","IntersectionObserver","entries","isIntersecting","threshold","observe","_useState","useState","_useState2","_slicedToArray","elements","setElements","dispatch","UrlParts","ANIMES","_api$useGetElementsQu","api","useGetElementsQuery","queryParams","limit","status","order","season","data","isSuccess","Suspense","fallback","Spinner","onClick","updateFilter","restoreCollectionFilter","title","map","EmptyCatalogItem","id","timeFromPublication","date","dateDifference","Date","now","getTime","minute","hour","day","year","seconds","Math","round","minutes","hours","days","years","TOPICS","forum","href","topic_title","DOMParser","parseFromString","html_footer","getElementsByTagName","linked","created_at","comments_count","UPDATES","animeUpdated","forEach","push","_","slice","x48","_useState3","_useState4","page","setPage","_useState5","_useState6","isObserverLoading","setIsObserverLoading","isFetching","arr","_toConsumableArray","pop","lastElement","useObserver","length","Trigger","props","updateTitle","elementVisibility","OngoingSection","NewsSection","ContentSection","AnimeUpdatesSection","NewsCatalog"],"sourceRoot":""}