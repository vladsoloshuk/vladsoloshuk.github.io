"use strict";(self.webpackChunkanime_world=self.webpackChunkanime_world||[]).push([[549],{1343:(e,s,a)=>{a.d(s,{Z:()=>n});var t=a(1087),i=a(2912),c=a(5726),l=a(184);const n=e=>{let{element:s,imageType:a}=e;return(0,l.jsx)("article",{className:"c-column b-catalog_entry c-anime",children:(0,l.jsxs)(t.rU,{element:s,className:"cover anime-tooltip-processed",to:(0,c.SQ)(s.kind,s.url),state:s,children:[(0,l.jsx)("span",{className:"image-decor",children:(0,l.jsx)("span",{className:"image-cutter",children:(0,l.jsx)(i.Z,{element:s,imageType:s.image[a]})})}),(0,l.jsx)("span",{className:"title ".concat("preview"===a?"left_aligned":"two_lined"),children:s.name}),"preview"===a?(0,l.jsxs)("span",{className:"misc",children:[(0,l.jsx)("span",{children:(0,c.pk)(s.kind)}),(0,l.jsx)("span",{children:s.aired_on?s.aired_on.split("-")[0]:""})]}):""]})})}},2912:(e,s,a)=>{a.d(s,{Z:()=>c});var t=a(8935),i=a(184);const c=e=>{let{element:s,imageType:a}=e,c="";return c=a.includes("http")?a:t.v+a,(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:c,type:"image/webp"}),(0,i.jsx)("img",{alt:s.name,src:c,srcSet:c})]})}},1915:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(184);const i=e=>{let{target:s}=e;return(0,t.jsx)("div",{style:{height:"3rem"},ref:s})}},8660:(e,s,a)=>{a.d(s,{C:()=>c,T:()=>i});var t=a(5048);const i=()=>(0,t.I0)(),c=t.v9},266:(e,s,a)=>{a.d(s,{Z:()=>i});var t=a(2791);const i=(e,s,a)=>{const i=(0,t.useRef)();(0,t.useEffect)((()=>{if(s)return;i.current&&i.current.disconnect();i.current=new IntersectionObserver((e=>{e[0].isIntersecting&&a()}),{threshold:1}),i.current.observe(e.current)}),[e,s,a])}},7549:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(2791),i=a(8660),c=a(6334),l=a(1087),n=a(9821),r=a(8935),d=a(748),o=a(1343),m=a(2901),h=a(184);const u=()=>{const[e,s]=(0,t.useState)([]),a=(0,i.T)(),u=r.z.ANIMES,{data:x,isSuccess:j}=n.h.useGetElementsQuery({url:u,queryParams:{limit:8,status:"ongoing",order:"popularity",season:2024}});return(0,t.useEffect)((()=>{j&&s(x)}),[x,j]),(0,h.jsx)(t.Suspense,{fallback:d.Z,children:(0,h.jsxs)("div",{className:"block2",children:[(0,h.jsx)("div",{className:"subheadline linkheadline m15",children:(0,h.jsx)(l.rU,{to:"".concat(r.z.ANIMES).concat("/status/ongoing"),onClick:()=>{a((0,m.a8)(["status","ongoing"])),a((0,c.fs)(["restoreCollectionFilter",!1]))},children:"Now on screens"})}),(0,h.jsxs)("div",{className:"fc-ongoings",children:[(0,h.jsx)("div",{className:"mobile-slider-prev bright"}),(0,h.jsx)("div",{className:"mobile-slider-next bright"}),(0,h.jsx)("div",{className:"inner",children:j?e.map((e=>(0,h.jsx)(o.Z,{element:e,imageType:"preview"},e.id))):(0,h.jsx)(d.Z,{})})]})]})})};var x=a(4021);const j=()=>{const[e,s]=(0,t.useState)([]),a=r.z.TOPICS,{data:i,isSuccess:c}=n.h.useGetElementsQuery({url:a,queryParams:{forum:"news",limit:2}});return(0,t.useEffect)((()=>{c&&s(i)}),[i,c]),(0,h.jsx)(t.Suspense,{fallback:d.Z,children:(0,h.jsxs)("div",{className:"block2",children:[(0,h.jsx)("div",{className:"subheadline-buttons",children:(0,h.jsx)(l.rU,{className:"b-link_button dark mini create-topic",href:"/",title:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c",children:(0,h.jsx)("span",{children:"Add news"})})}),(0,h.jsx)("div",{className:"headline linkheadline orange",children:"News"}),(0,h.jsx)("div",{className:"news_wall latest-news",children:c?e.map((e=>(0,h.jsx)("article",{className:"b-news_wall-topic",children:(0,h.jsxs)(l.rU,{to:"".concat(e.url),title:e.topic_title,children:[(0,h.jsx)("div",{className:"poster",children:(0,h.jsx)("div",{className:"b-shiki_swiper",children:(0,h.jsx)("img",{className:"b-image",src:(new DOMParser).parseFromString(e.html_footer,"text/html").getElementsByTagName("img")[0].src,alt:""})})}),(0,h.jsxs)("div",{className:"status-line",children:[e.linked?(0,h.jsxs)("div",{className:"tags",children:[(0,h.jsx)("div",{className:"b-anime_status_tag other","data-text":e.linked.status}),(0,h.jsx)("div",{className:"b-anime_status_tag other","data-text":e.linked.kind})]}):(0,h.jsx)("div",{}),(0,h.jsx)("time",{children:(0,x.Y4)(e.created_at)}),(0,h.jsx)("div",{className:"comments",children:e.comments_count})]}),(0,h.jsx)("div",{className:"title",children:e.topic_title})]})},e.id))):(0,h.jsx)(d.Z,{})})]})})},p=()=>(0,h.jsx)(t.Suspense,{fallback:d.Z,children:(0,h.jsx)("div",{className:"block2",children:(0,h.jsxs)("div",{className:"fc-2_3",children:[(0,h.jsxs)("div",{className:"f-column",children:[(0,h.jsxs)("div",{className:"headline skyblue",children:["Content",(0,h.jsxs)("div",{className:"misc-links",children:[(0,h.jsx)("a",{href:"https://shikimori.one/collections",children:"Collections"}),(0,h.jsx)("a",{href:"https://shikimori.one/forum/critiques",children:"Critiques"}),(0,h.jsx)("a",{href:"https://shikimori.one/articles",children:"Articles"})]})]}),(0,h.jsx)("div",{className:"content-updates"})]}),(0,h.jsx)("div",{className:"f-column",children:(0,h.jsx)("div",{className:"headline",children:"Topics of the day"})})]})})});var v=a(2912),g=a(763),N=a.n(g),b=a(5726);const k=()=>{const[e,s]=(0,t.useState)([]),a=r.z.TOPICS+r.z.UPDATES,{data:i,isSuccess:c}=n.h.useGetElementsQuery({url:a,queryParams:{limit:30}});return(0,t.useEffect)((()=>{if(c){let e=[];i.forEach((s=>{switch(s.linked.kind){case"tv":case"movie":case"ova":case"ona":case"special":case"music":e.push(s)}})),s(N().uniqBy(e,(e=>e.linked.id)).slice(0,8))}}),[i,c]),(0,h.jsx)(t.Suspense,{fallback:d.Z,children:(0,h.jsxs)("div",{className:"block2",children:[(0,h.jsx)("div",{className:"headline linkheadline magenta m15",children:(0,h.jsx)(l.rU,{to:"/",children:"Anime Updates"})}),(0,h.jsxs)("div",{className:"db-updates",children:[(0,h.jsx)("div",{className:"mobile-slider-prev bright"}),(0,h.jsx)("div",{className:"mobile-slider-next bright"}),(0,h.jsx)("div",{className:"inner",children:c?e.map((e=>(0,h.jsxs)(l.rU,{to:e.linked.url,className:"db-update unprocessed bubbled-processed",children:[(0,h.jsx)("div",{className:"poster",children:(0,h.jsx)(v.Z,{element:e,imageType:e.linked.image.x48})}),(0,h.jsxs)("div",{className:"info",children:[(0,h.jsx)("div",{className:"name",children:e.linked.name}),(0,h.jsxs)("div",{className:"status-time",children:[(0,h.jsx)("div",{className:"b-anime_status_tag ".concat(e.linked.status),"data-text":(0,b.rS)(e.linked.status)}),(0,h.jsx)("time",{children:(0,x.Y4)(e.created_at)})]}),(0,h.jsx)("div",{className:"tags",children:(0,h.jsx)("div",{className:"b-anime_status_tag studio",children:(0,b.pk)(e.linked.kind)})})]})]},e.id))):(0,h.jsx)(d.Z,{})})]})]})})};var f=a(266),w=a(1915);const _=()=>{const[e,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(2),[c,o]=(0,t.useState)(!1),m={forum:"news",limit:3,page:a},u=r.z.TOPICS,{data:j,isFetching:p,isSuccess:v}=n.h.useGetElementsQuery({url:u,queryParams:m});(0,t.useEffect)((()=>{if(v&&c){const a=[...j];a.pop(),s([...e,...a])}if(v&&!c){const e=[...j];e.pop(),s([...e])}o(!1)}),[j]);const g=(0,t.useRef)();return(0,f.Z)(g,p,(()=>(i(a+1),void o(!0)))),(0,h.jsx)(t.Suspense,{fallback:d.Z,children:(0,h.jsxs)("div",{className:"block2",children:[(0,h.jsx)("div",{className:"headline skyblue m15",children:"More news"}),(0,h.jsx)("div",{className:"news_wall other-news",children:v&&e.length>0?e.map((e=>(0,h.jsx)("article",{className:"b-news_wall-topic",children:(0,h.jsxs)(l.rU,{to:e.url,title:e.topic_title,children:[(0,h.jsx)("div",{className:"poster",children:(0,h.jsx)("div",{className:"b-shiki_swiper",children:(0,h.jsx)("img",{className:"b-image",src:(new DOMParser).parseFromString(e.html_footer,"text/html").getElementsByTagName("img")[0].src,alt:""})})}),(0,h.jsxs)("div",{className:"status-line",children:[(0,h.jsx)("time",{children:(0,x.Y4)(e.created_at)}),(0,h.jsx)("div",{className:"comments",children:e.comments_count})]}),(0,h.jsx)("div",{className:"title",children:e.topic_title})]})},e.id))):(0,h.jsx)(d.Z,{})}),v?(0,h.jsx)(w.Z,{target:g}):""]})})};var S=a(6113);const y=e=>{const s=(0,i.T)();return(0,t.useEffect)((()=>{s((0,c.iX)("Home")),s((0,S.Rr)(["search",!1]))})),(0,h.jsxs)("section",{className:"p-dashboards p-dashboards-show x1200 l-page",children:[(0,h.jsx)(u,{}),(0,h.jsx)(j,{}),(0,h.jsx)(p,{}),(0,h.jsx)(k,{}),(0,h.jsx)(_,{})]})}},4021:(e,s,a)=>{a.d(s,{Mu:()=>l,So:()=>i,TE:()=>c,Y4:()=>t});const t=e=>{const s=Date.now()-new Date(e).getTime(),a=6e4,t=36e5,i=24*t,c=365*i;let l=Math.round(s/1e3),n=Math.round(s/a),r=Math.round(s/t),d=Math.round(s/i),o=Math.round(s/c);return s<6e4?l+" seconds ago":s>6e4&&s<1*t?n+" minutes ago":s>1*t&&s<1*i?r+" hours ago":s>1*i&&s<1*c?d+" days ago":s>1*c?o+" years ago":void 0},i=e=>new Date(e).getFullYear(),c=(e,s)=>s?"".concat(e.substring(0,4)," - ").concat(s.substring(0,4)):"".concat(e.substring(0,4)),l=e=>{let s=new Date(e),a=s.getFullYear(),t=("0"+(s.getMonth()+1)).slice(-2),i=("0"+s.getDate()).slice(-2),c=("0"+s.getHours()).slice(-2),l=("0"+s.getMinutes()).slice(-2);return"".concat(a,"-").concat(t,"-").concat(i," - ").concat(c,":").concat(l)}},5726:(e,s,a)=>{a.d(s,{SQ:()=>i,pk:()=>t,rS:()=>c});const t=e=>{let s="";if("tv"===e)s="TV series";else s=e.replace(/_/g," ").replace(e[0],e[0].toUpperCase());return s},i=(e,s)=>{let a="";return a="light_novel"===e||"novel"===e?s.replace(/mangas/g,"ranobe"):s,a},c=e=>e.replace(e[0],e[0].toUpperCase())}}]);
//# sourceMappingURL=549.083b550e.chunk.js.map