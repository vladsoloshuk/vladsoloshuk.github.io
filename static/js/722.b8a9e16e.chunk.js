"use strict";(self.webpackChunkanime_world=self.webpackChunkanime_world||[]).push([[722],{722:function(e,s,a){a.r(s),a.d(s,{default:function(){return w}});var n=a(3433),i=a(9439),c=a(2791),l=a(748),r=a(7689),t=a(9821),d=a(184),o=function(e){var s=e.element,a=e.property,n=e.maxValue;return(0,d.jsx)("div",{className:"bar simple horizontal",id:a,children:s[a].map((function(e){return(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"x_label",children:e.name}),(0,d.jsx)("div",{className:"bar-container",children:(0,d.jsx)("div",{className:"bar ".concat(e.value/n*100>75?"s0":e.value/n*100>50?"s1":e.value/n*100>25?"s2":"s3"),style:{width:"".concat(e.value/n*100,"%")},title:e.value,children:(0,d.jsx)("div",{className:"value ".concat(e.value/n*100>20?"mini":"narrow"),children:e.value/n*100>10?"".concat(e.value):""})})})]},e.name)}))})},m=function(e){var s=e.scoreValue;return(0,d.jsxs)("div",{className:"block",children:[(0,d.jsx)("div",{className:"subheadline m5",children:"Score"}),(0,d.jsx)("div",{className:"scores",children:(0,d.jsxs)("div",{className:"b-rate",children:[(0,d.jsxs)("div",{className:"stars-container",children:[(0,d.jsx)("div",{className:"hoverable-trigger"}),(0,d.jsx)("div",{className:"stars score score-".concat(Math.round(s))}),(0,d.jsx)("div",{className:"stars hover"}),(0,d.jsx)("div",{className:"stars background"})]}),(0,d.jsxs)("div",{className:"text-score",children:[(0,d.jsx)("div",{className:"score-value score-".concat(Math.round(s)),children:s}),(0,d.jsx)("div",{className:"score-notice",children:s>9?"Splendid":s>8?"Excellent":s>7?"Good":s>6?"Fine":s>5?"More or less":s>4?"Bad":s>3?"Very bad":s>2?"Terrible":s>1?"Worse than ever":""})]})]})})]})},u=a(8935),h=a(8660),x=a(6334),v=a(1087),j=function(e){var s=e.productionName,a=e.title,n=e.production;return(0,d.jsxs)("div",{className:"block",children:[(0,d.jsx)("div",{className:"subheadline",children:s}),(0,d.jsx)("div",{className:"block",children:n?n.image?(0,d.jsx)(v.rU,{to:"",title:"".concat(a," made by ").concat(n.name," ").concat(s),children:(0,d.jsx)("img",{className:"studio-logo",src:"https://shikimori.one/".concat(n.image),alt:"".concat(a," made by ").concat(n.name," ").concat(s)})}):(0,d.jsx)(v.rU,{className:"b-tag",to:"",children:n.name}):""})]})},N=function(e){var s=e.descriptionValue;return(0,d.jsxs)("div",{className:"c-description",children:[(0,d.jsx)("div",{className:"subheadline m5",children:"Description"}),s?(0,d.jsx)("div",{className:"block",dangerouslySetInnerHTML:{__html:s}}):(0,d.jsx)("div",{className:"block",children:"No description"})]})},b=function(e){var s=e.element,a=e.title;return(0,d.jsx)("div",{className:"block",children:(0,d.jsxs)("div",{className:"b-entry-info",children:[(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Type: "}),(0,d.jsx)("div",{className:"value",children:s.kind})]})}),"Anime"===a?(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Episodes: "}),(0,d.jsx)("div",{className:"value",children:s.ongoing?s.episodes_aired+"/"+s.episodes:s.episodes})]})}):"","Anime"===a?(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Episode duration: "}),(0,d.jsxs)("div",{className:"value",children:[s.duration," min"]})]})}):"","Manga"===a||"Ranobe"===a?(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Volumes: "}),(0,d.jsx)("div",{className:"value",children:s.volumes})]})}):"","Manga"===a||"Ranobe"===a?(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Chapters: "}),(0,d.jsx)("div",{className:"value",children:s.chapters})]})}):"",(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Status: "}),(0,d.jsxs)("div",{className:"value",children:[(0,d.jsx)("span",{className:"b-anime_status_tag ".concat(s.status),"data-text":s.status}),s.aired_on]})]})}),(0,d.jsx)("div",{className:"line-container",children:(0,d.jsxs)("div",{className:"line",children:[(0,d.jsx)("div",{className:"key",children:"Genres: "}),(0,d.jsx)("span",{className:"b-anime_status_tag","data-text":"\u0432\u044b\u0448\u043b\u043e"}),(0,d.jsx)("div",{className:"value",children:s.genres.map((function(e){return(0,d.jsx)(v.rU,{className:"b-tag bubbled-processed",to:"",children:(0,d.jsx)("span",{className:"genre-en",children:e.name})},e.id)}))})]})})]})})},p=a(2912),f=function(e){var s=e.element;return(0,d.jsx)("div",{className:"c-poster",children:(0,d.jsx)("div",{className:"b-db_entry-poster b-image",children:(0,d.jsx)(p.Z,{element:s,imageType:s.image.original})})})},g=function(){return(0,d.jsx)("div",{className:"c-actions",children:(0,d.jsxs)("div",{className:"b-subposter-actions",children:[(0,d.jsx)(v.rU,{className:"b-subposter-action new_comment b-tooltipped",to:""}),(0,d.jsx)(v.rU,{className:"b-subposter-action new_review b-tooltipped",to:""}),(0,d.jsx)(v.rU,{className:"b-subposter-action new_critique b-tooltipped",to:""}),(0,d.jsx)(v.rU,{className:"b-subposter-action fav-add b-tooltipped",to:""}),(0,d.jsx)(v.rU,{className:"b-subposter-action edit b-tooltipped",to:""})]})})},k=a(4021),_=function(e){var s=e.element,a=e.relation;return(0,d.jsxs)("div",{className:"info",children:[(0,d.jsx)("div",{className:"name",children:(0,d.jsx)(v.rU,{className:"b-link bubbled-processed",to:s.url,children:(0,d.jsx)("span",{className:"name-en",children:s.name})})}),(0,d.jsx)("div",{className:"line",children:(0,d.jsxs)("div",{className:"value",children:[(0,d.jsx)(v.rU,{className:"b-tag",to:"",children:s.kind}),(0,d.jsx)(v.rU,{className:"b-tag",to:"",children:(0,k.S)(s.aired_on)}),(0,d.jsx)(v.rU,{className:"b-anime_status_tag other",to:"",children:a})]})})]})},y=function(){var e=(0,r.TH)().pathname,s=(0,c.useState)([]),a=(0,i.Z)(s,2),n=a[0],o=a[1],m=t.h.useGetElementQuery(e+"/related"),u=m.data,h=m.isSuccess;return(0,c.useEffect)((function(){h&&(o(u),console.log(u))}),[u]),(0,d.jsx)(c.Suspense,{fallback:l.Z,children:(0,d.jsxs)("div",{className:"c-column block_m",children:[(0,d.jsxs)("div",{className:"b-options-floated mobile-phone",children:[(0,d.jsx)(v.rU,{to:"",children:"Directly"}),(0,d.jsx)(v.rU,{to:"",children:"Chronology"}),(0,d.jsx)(v.rU,{to:"",children:"Franchise"})]}),(0,d.jsx)("div",{className:"subheadline",children:"Related"}),(0,d.jsx)("div",{className:"cc",children:h?n.map((function(e){return(0,d.jsxs)("div",{className:"b-db_entry-variant-list_item",children:[(0,d.jsx)(v.rU,{className:"image bubbled-processed",to:"",children:(0,d.jsx)(p.Z,{element:e,imageType:e["".concat(null===e.anime?"manga":"anime")].image.x48})}),(0,d.jsx)(_,{element:e["".concat(null===e.anime?"manga":"anime")],relation:e.relation})]},null===e.anime?e.manga.id:e.anime.id)})):(0,d.jsx)(l.Z,{})})]})})},S=function(){(0,h.T)();var e=(0,r.TH)().pathname,s=t.h.useGetElementQuery(e+"/related"),a=s.data,n=s.isSuccess;return(0,c.useEffect)((function(){}),[a]),(0,d.jsx)(c.Suspense,{fallback:l.Z,children:n?(0,d.jsx)("div",{className:"c-column c-authors block_m",children:(0,d.jsx)("div",{className:"subheadline",children:"Authors"})}):""})},M=a(2901),U=function(e){var s=e.element,a=e.title,n=(0,h.T)(),i="Anime"===a?u.z.ANIMES:"Manga"===a?u.z.MANGAS:u.z.RANOBE;return(0,d.jsxs)("header",{className:"head",children:[(0,d.jsx)("h1",{children:s.name}),(0,d.jsxs)("div",{className:"b-breadcrumbs",children:[(0,d.jsx)("span",{children:(0,d.jsx)(v.rU,{className:"b-link",to:"".concat(i),children:a})}),(0,d.jsx)("span",{children:(0,d.jsx)(v.rU,{className:"b-link",to:"".concat(i,"/kind/").concat(s.kind),onClick:function(){n((0,M.a8)(["kind",s.kind])),n((0,x.fs)(["restoreCollectionFilter",!1]))},children:s.kind})})]})]})},w=function(){var e,s=(0,h.T)(),a=(0,r.TH)().pathname,v=(0,c.useState)(0),p=(0,i.Z)(v,2),k=p[0],_=p[1],M=(0,c.useState)(0),w=(0,i.Z)(M,2),E=w[0],T=w[1],Z=(0,c.useState)(""),A=(0,i.Z)(Z,2),V=A[0],C=A[1],G=(0,c.useState)(""),R=(0,i.Z)(G,2),z=R[0],D=R[1],I=t.h.useGetElementQuery(a),F=I.data,H=I.isSuccess;e=RegExp("".concat(u.z.ANIMES)).test(a)?"Anime":RegExp("".concat(u.z.MANGAS)).test(a)?"Manga":"Ranobe";var Q=F;return(0,c.useEffect)((function(){if(s((0,x.iX)(e)),H){void 0!==Q.publishers&&Q.publishers.length>0&&(C("Publisher"),D(Q.publishers[0])),void 0!==Q.studios&&Q.studios.length>0&&(C("Studio"),D(Q.studios[0]));var a=Math.max.apply(Math,(0,n.Z)(Q.rates_scores_stats.map((function(e){return e.value})))),i=Math.max.apply(Math,(0,n.Z)(Q.rates_statuses_stats.map((function(e){return e.value}))));_(a),T(i)}}),[F]),console.log(F),(0,d.jsx)(c.Suspense,{fallback:l.Z,children:H?(0,d.jsx)("section",{className:"p-animes p-animes-show p-db_entries p-db_entries-show p-elements_collection-index x1200 l-page",children:(0,d.jsxs)("div",{children:[(0,d.jsx)(U,{element:Q,title:e}),(0,d.jsx)("div",{className:"menu-slide-outer x199",children:(0,d.jsxs)("div",{className:"menu-slide-inner",children:[(0,d.jsx)("div",{className:"l-content",children:(0,d.jsxs)("div",{className:"block",children:[(0,d.jsxs)("div",{className:"b-db_entry",children:[(0,d.jsxs)("div",{className:"c-image",children:[(0,d.jsxs)("div",{className:"cc block",children:[(0,d.jsx)(f,{element:Q}),(0,d.jsx)(g,{})]}),(0,d.jsx)("div",{className:"b-user_rate"})]}),(0,d.jsx)("div",{className:"c-about",children:(0,d.jsxs)("div",{className:"cc",children:[(0,d.jsxs)("div",{className:"c-info-left",children:[(0,d.jsx)("div",{className:"subheadline",children:"Information"}),(0,d.jsx)(b,{element:Q,title:e})]}),(0,d.jsxs)("div",{className:"c-info-right",children:[Q.score>0?(0,d.jsx)(m,{scoreValue:Q.score}):"",void 0!==Q.publishers&&Q.publishers.length>0||void 0!==Q.studios&&Q.studios.length>0?(0,d.jsx)(j,{productionName:V,title:e,production:z}):""]})]})}),(0,d.jsx)(N,{descriptionValue:Q.description_html})]}),(0,d.jsxs)("div",{className:"cc-related-authors",children:[(0,d.jsx)(y,{}),(0,d.jsx)(S,{})]})]})}),(0,d.jsx)("aside",{className:"l-menu",children:(0,d.jsxs)("div",{className:"b-animes-menu",children:[(0,d.jsxs)("div",{className:"block",children:[(0,d.jsx)("div",{className:"subheadline",children:"People's ratings"}),(0,d.jsx)(o,{element:Q,property:"rates_scores_stats",maxValue:k})]}),(0,d.jsxs)("div",{className:"block",children:[(0,d.jsx)("div",{className:"subheadline",children:"On people's lists"}),(0,d.jsx)(o,{element:Q,property:"rates_statuses_stats",maxValue:E})]})]})})]})})]})}):(0,d.jsx)("div",{})})}},2912:function(e,s,a){var n=a(8935),i=a(184);s.Z=function(e){var s=e.element,a=e.imageType;return(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:n.v+a,type:"image/webp"}),(0,i.jsx)("img",{alt:s.name,src:n.v+a,srcSet:n.v+a})]})}},8660:function(e,s,a){a.d(s,{C:function(){return c},T:function(){return i}});var n=a(5048),i=function(){return(0,n.I0)()},c=n.v9},4021:function(e,s,a){a.d(s,{S:function(){return i},Y:function(){return n}});var n=function(e){var s=Date.now()-new Date(e).getTime(),a=6e4,n=36e5,i=24*n,c=365*i,l=Math.round(s/1e3),r=Math.round(s/a),t=Math.round(s/n),d=Math.round(s/i),o=Math.round(s/c);return s<6e4?l+" seconds ago":s>6e4&&s<1*n?r+" minutes ago":s>1*n&&s<1*i?t+" hours ago":s>1*i&&s<1*c?d+" days ago":s>1*c?o+" years ago":void 0},i=function(e){return new Date(e).getFullYear()}}}]);
//# sourceMappingURL=722.b8a9e16e.chunk.js.map